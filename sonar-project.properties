# SonarCloud project configuration
sonar.organization=getlago
sonar.projectKey=getlago_lago-front

# Source code location
sonar.sources=src

# Exclusions from source files
sonar.exclusions=**/types.{ts,tsx},**/fixtures.ts,**/core/constants/**,**/generated/**,**/styles/**,**/pages/__devOnly/**,**/__tests__/**,**/*.test.{ts,tsx},**/*.spec.{ts,tsx},src/test-utils.tsx

# Test files inclusion - only include actual test files
# Test files are in __tests__ directories with .test. or .spec. in filename
sonar.test.inclusions=**/__tests__/**/*.{test,spec}.{ts,tsx}

# Test coverage report path (generated by Jest)
# For TypeScript projects, SonarCloud uses sonar.javascript.lcov.reportPaths
sonar.javascript.lcov.reportPaths=coverage/lcov.info

# TypeScript configuration
sonar.typescript.tsconfigPath=tsconfig.json

# Additional exclusions for build artifacts and dependencies
# Note: Don't exclude coverage/ folder as SonarQube needs to read lcov.info from it
sonar.exclusions+=**/node_modules/**,**/dist/**,**/cypress/**,**/packages/design-system/dist/**,**/__mocks__/**

## RULES TO BE EXCLUDED FROM ANALYSIS:

# Ignore "Do not add then to an object" rule for entire project
# This is a false positive - Yup's .when() API and other libraries legitimately use 'then' for conditional logic
# Configured for both JavaScript and TypeScript analyzers
sonar.issue.ignore.multicriteria=e1,e2,e3,e4
sonar.issue.ignore.multicriteria.e1.ruleKey=javascript:S6643
sonar.issue.ignore.multicriteria.e1.resourceKey=**/*.{js,jsx,ts,tsx}
sonar.issue.ignore.multicriteria.e2.ruleKey=typescript:S6643
sonar.issue.ignore.multicriteria.e2.resourceKey=**/*.{js,jsx,ts,tsx}

# Ignore "Prefer globalThis over window" rule
# Using 'window' is intentional in browser-only code for clarity and is a common convention
sonar.issue.ignore.multicriteria.e3.ruleKey=javascript:S7764
sonar.issue.ignore.multicriteria.e3.resourceKey=**/*.{js,jsx,ts,tsx}
sonar.issue.ignore.multicriteria.e4.ruleKey=typescript:S7764
sonar.issue.ignore.multicriteria.e4.resourceKey=**/*.{js,jsx,ts,tsx}

